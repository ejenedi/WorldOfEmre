<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Couple Picture Quiz Game - Favourites Edition</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
    
    <style>
        /* Single, Unified Theme */
        .quiz-theme {
            background-color: #f7f9fc; /* Light, clean background */
            transition: all 0.5s ease-in-out;
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
        }

        /* Card styles for contrast */
        .quiz-card {
            background-color: #ffffff;
            color: #1f2937; /* Dark text */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
        }

        /* Custom selection styles for options (Bootstrap specific integration) */
        .option-item {
            border: 3px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 0.5rem !important; /* Force rounded corners */
            overflow: hidden; /* Ensure image and text box are contained */
        }
        
        .option-item:hover {
            transform: scale(1.03);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* Single selected style: Blue highlight */
        .option-item.selected {
            border-color: #0d6efd; 
            box-shadow: 0 0 15px rgba(13, 110, 253, 0.5);
            /* Removed transform: scale(1.03) */
        }
        
        /* Style for disabled options after submission */
        .option-item.disabled-option {
            cursor: default !important;
            pointer-events: none;
            opacity: 0.7;
            transform: none !important;
            box-shadow: none !important;
        }

        /* Result highlighting styles */
        .border-success { border-color: #198754 !important; }
        .border-danger { border-color: #dc3545 !important; }
        .border-warning { border-color: #ffc107 !important; }

        /* Custom colors for results message */
        .bg-info-subtle { background-color: #cff4fc !important; }
        .text-info-emphasis { color: #055160 !important; }
    </style>
</head>
<body id="app-body" class="quiz-theme">

    <div class="d-flex align-items-center justify-content-center py-5 px-3">
        <div id="quiz-card" class="w-100 p-4 p-md-5 rounded-4 transition duration-500 quiz-card" style="max-width: 900px;">

            <h1 id="main-title" class="fs-2 fw-bolder text-center mb-5 text-primary">
                Couple Picture Quiz: Favourites Edition
            </h1>
            
            <div id="quiz-container" class="space-y-5">
                </div>

            <div id="results-message" class="d-none text-center mt-5 p-4 rounded-3 fw-semibold fs-5">
                </div>
            
            <p class="text-center mt-4 small opacity-75">
                Click the images to select your answer!
            </p>

        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>

    <script>
        // Image dimensions
        const IMG_W = 350;
        const IMG_H = 200;
        
        // Function to generate a contextually relevant, searchable image URL
        function generateImageUrl(tags, seed) {
            // Note: We use a placeholder service for generic images.
            return `https://loremflickr.com/${IMG_W}/${IMG_H}/${tags}/all?lock=${seed}`;
        }

        // --- Core Quiz Data ---
        const quizData = [
            {
                id: 1, // CUSTOM: Comfort Food
                question: "Which type of **comfort food** would he pick for a chill movie night?",
                options: [
                    { text: "Kebap", url: "kebap.png" },
                    { text: "Pistachio rolls", url: "roll.png"},
                    { text: "Prime rib", url: "primerib.png" },
                ]
            },
            {
                id: 2, // CUSTOM: Cars (UPDATED WITH YOUR NEW FILENAMES)
                question: "What is his ultimate **dream car** fantasy?",
                options: [
                    { text: "Buick Century", url: "bcentury2001.png" }, 
                    { text: "Chrysler 200", url: "chrysler200.png" }, 
                    { text: "G-class", url: "Gclass.png" }, 
                ]
            },
            {
                id: 3,
                question: "Where would he most want to spend an **unplanned vacation**?",
                options: [
                    { text: "Tranquil Garden", url: generateImageUrl("japanese,garden,tranquil", 7) },
                    { text: "Mountain Ski Lodge", url: generateImageUrl("ski,lodge,mountain", 8) },
                    { text: "Busy City Skyline", url: generateImageUrl("night,city,skyline", 9) },
                ]
            },
            {
                id: 4, // CUSTOM: Tools
                question: "Which of these **tools** is most likely to be in his toolbox right now?",
                options: [
                    { text: "Impact wrench", url: "de.png" },
                    { text: "Ratchet wrench", url: "iconw.png"  },
                    { text: "Oscilloscopes", url:"osc.png" },
                ]
            },
            {
                id: 5,
                question: "His ideal Saturday **hobby** involves which activity?",
                options: [
                    { text: "Video Gaming", url: "r6.png" },
                    { text: "Woodworking", url: generateImageUrl("woodworking,sawdust,carpenter", 14) },
                    { text: "Hiking Trail", url: generateImageUrl("mountain,hiking,trail", 15) },
                ]
            },
            {
                id: 6, // CUSTOM: Action Movie Weapon
                question: "If he chose an action movie, which **weapon** is coolest to him?",
                options: [
                    { text: "MG42", url: "mg42.png" },
                    { text: "Katana", url: "katana.png" },
                    { text: "M4A1", url: "m4a1.png" },
                ]
            },
            {
                id: 7, // CUSTOM: Snack
                question: "What's his go-to **snack** when he's focused or working?",
                options: [
                    { text: "Beef jerky", url: "beef.png"},
                    { text: "Eti karam wafer", url: "karam.png" },
                    { text: "Ulker cikolata sade", url: "ulker.png" },
                ]
            },
            {
                id: 8, // CUSTOM: Workbench/Toolbox
                question: "Which of these **workbenches or toolboxes** does he most want?",
                options: [
                    { text: "Husky workbench army green", url: "husky.png" },
                    { text: "US General slate gray 72 inch", url:"usgen.png" },
                    { text: "Icon red 72 inch", url: "iconr.png" },
                ]
            },
            {
                id: 9, // CUSTOM: Workshop Essential
                question: "If he had a full **workshop**, which item is essential?",
                options: [
                    { text: "Laser Engraver", url: generateImageUrl("laser,engraver,machine", 25) },
                    { text: "3D Printer", url: generateImageUrl("3d,printer,filament", 26) },
                    { text: "Dremel", url: "dremel.png" }, 
                ]
            },
            {
                id: 10, // CUSTOM: Friends Activity
                question: "His favorite way to **spend time with friends** usually involves:",
                options: [
                    { text: "Wrestling", url: "wr.png" },
                    { text: "Rainbow Six Siege", url: "r6.png" },
                    { text: "Breakfast with tea and pastirmali yumurta", url: "pastirma.png" },
                ]
            },
        ];

        // ----------------------------------------------------------------
        // --- CUSTOMIZED CORRECT ANSWERS (BASED ON YOUR INPUT) ---
        // ----------------------------------------------------------------
        const correctAnswers = {
            1: "Pistachio rolls",                 
            2: "Chrysler 200",                
            3: "Mountain Ski Lodge",              
            4: "Ratchet wrench",                  
            5: "Video Gaming",                    
            6: "MG42",                            
            7: "Eti karam wafer",                 
            8: "US General slate gray 72 inch",   
            9: "Dremel",                  
            10: "Rainbow Six Siege"               
        };
        // ----------------------------------------------------------------
        
        // Storage and State
        let userAnswers = {}; 
        let quizSubmitted = false;

        const body = document.getElementById('app-body');
        const quizContainer = document.getElementById('quiz-container');
        const mainTitle = document.getElementById('main-title');
        const resultsMessage = document.getElementById('results-message');
        const submitContainer = document.createElement('div'); // Container for the submission button

        /**
         * Renders the entire quiz structure.
         */
        function renderQuiz() {
            quizContainer.innerHTML = quizData.map(q => {
                const currentAnswer = userAnswers[q.id];

                // Render options as a grid of images
                const optionsHtml = q.options.map(opt => {
                    const isSelected = currentAnswer === opt.text;
                    let selectedClass = isSelected ? 'selected' : '';
                    
                    // Added fixed column classes here, removed all dynamic visibility/sizing logic
                    let colSizeClass = 'col-sm-6 col-md-4'; 
                    let visibilityClass = ''; 
                    
                    // Add correct/incorrect styles if submitted
                    if (quizSubmitted) {
                        if (opt.text === correctAnswers[q.id]) {
                            // Correct answer (highlighted green)
                            selectedClass += ' border-success border-5 shadow-lg';
                        } else if (isSelected) {
                            // Incorrect selection (highlighted red)
                            selectedClass += ' border-danger border-5 shadow-lg';
                        } else if (opt.text === correctAnswers[q.id]) {
                            // Correct answer not selected (highlighted subtle yellow)
                             selectedClass += ' border-warning border-5';
                        }
                    }

                    return `
                        <div class="col-12 ${colSizeClass} mb-3 ${visibilityClass}">
                            <div class="option-item d-flex flex-column align-items-center ${selectedClass} ${quizSubmitted ? 'disabled-option' : ''}"
                                 data-question-id="${q.id}"
                                 data-answer-text="${opt.text.replace(/"/g, '&quot;')}"
                                 ${quizSubmitted ? '' : 'onclick="selectAnswer(this)"'}>
                            
                                <img src="${opt.url}" 
                                     onerror="this.onerror=null; this.src='https://placehold.co/350x200/000000/ffffff?text=Image+Load+Failed';"
                                     alt="${opt.text}" 
                                     class="img-fluid" style="object-fit: cover; height: ${IMG_H}px; width: 100%;">
                                
                                <p class="text-center p-2 small fw-bold w-100 m-0 
                                    ${quizSubmitted && opt.text === correctAnswers[q.id] ? 'bg-success text-white' : 'bg-light text-dark'}">
                                    ${opt.text}
                                </p>
                            </div>
                        </div>
                    `;
                }).join('');

                return `
                    <div class="question-block p-4 rounded-3 border mb-4">
                        <h2 class="fs-4 fw-semibold mb-4 text-primary">
                            ${q.id}. ${q.question}
                        </h2>
                        <div class="row justify-content-center">
                            ${optionsHtml}
                        </div>
                    </div>
                `;
            }).join('');

            updateSubmitButton();
        }

        /**
         * Handles the user selecting an answer. (Interactive logic removed)
         */
        function selectAnswer(element) {
            if (quizSubmitted) return;

            const questionId = parseInt(element.getAttribute('data-question-id'));
            const answerText = element.getAttribute('data-answer-text');
            
            const questionBlock = element.closest('.question-block');
            
            const isCurrentlySelected = element.classList.contains('selected');

            // Find all options for this question
            const allOptions = questionBlock.querySelectorAll(`.option-item`);

            // If the user clicks the already selected answer, unselect it
            if (isCurrentlySelected) {
                delete userAnswers[questionId];
                element.classList.remove('selected');
            } else {
                // Deselect all options for this question
                allOptions.forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Select the current option
                userAnswers[questionId] = answerText;
                element.classList.add('selected');
            }

            updateSubmitButton();
        }

        /**
         * Checks progress and renders the submission button.
         */
        function updateSubmitButton() {
            const totalQuestions = quizData.length;
            const answeredCount = Object.keys(userAnswers).length;

            submitContainer.className = 'text-center mt-5';
            submitContainer.innerHTML = '';
            resultsMessage.classList.add('d-none');
            resultsMessage.innerHTML = '';

            if (answeredCount === totalQuestions && !quizSubmitted) {
                submitContainer.innerHTML = `
                    <button id="submit-btn" class="btn btn-primary btn-lg fw-bold" onclick="submitQuiz()">
                        Submit Quiz and See the Score!
                    </button>
                `;
            }
            
            // Append the button container if it's not already in the card
            const quizCard = document.getElementById('quiz-card');
            if (!quizCard.contains(submitContainer)) {
                 quizCard.appendChild(submitContainer);
            }
        }

        /**
         * Submits the quiz, calculates the score, and displays results.
         */
        function submitQuiz() {
            quizSubmitted = true;
            const totalQuestions = quizData.length;
            let score = 0;

            for (const id in userAnswers) {
                if (userAnswers[id] === correctAnswers[id]) {
                    score++;
                }
            }

            const percentage = (score / totalQuestions) * 100;
            let resultText = '';

            if (percentage === 100) {
                resultText = `ðŸŽ‰ **Soulmates! 100% Match!** ðŸŽ‰ You scored a perfect ${score} out of ${totalQuestions}. You know everything about him, inside and out. Truly perfect!`;
            } else if (percentage >= 80) {
                resultText = `ðŸŒŸ **Excellent Job!** ðŸŒŸ You scored a great ${score} out of ${totalQuestions}. You pay attention to the details and clearly know him very well!`;
            } else if (percentage >= 50) {
                resultText = `ðŸ™‚ **Pretty Good!** ðŸ™‚ You scored ${score} out of ${totalQuestions}. There's still plenty to learn, but you're definitely on the right track!`;
            } else {
                resultText = `ðŸ¤” **Keep Exploring!** ðŸ¤” You scored only ${score} out of ${totalQuestions}. Looks like it's time for a long chat about his favorite things to catch up!`;
            }

            resultsMessage.classList.remove('d-none');
            resultsMessage.classList.add('d-block', 'p-4', 'rounded-3', 'fw-semibold', 'fs-5', 'bg-info-subtle', 'border', 'border-info', 'text-info-emphasis');
            resultsMessage.innerHTML = resultText;
            
            // Hide the submit button
            submitContainer.innerHTML = '';

            // Re-render to show correct/incorrect answers and disable clicks (all options shown again for results)
            renderQuiz();
        }


        /**
         * Initializes the Quiz.
         */
        function initializeQuiz() {
            renderQuiz();
        }

        // Initialize the UI on page load
        window.onload = initializeQuiz;
    </script>

</body>
</html>